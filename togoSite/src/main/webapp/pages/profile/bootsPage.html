<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="../login.css" />
    <link rel="stylesheet" href="../forum/forum.css">
    <link rel="icon" type="/image/png" href="images/icons/favicon.ico" />
    <link
            href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
    />
    <title>Boots Profile</title>
</head>
<body>
<div class="container" style="background-color: white">
    <nav>
        <div
                class="logo"
                style="cursor: pointer"
                onclick="window.location.href = '../index.html'"
        >
            TOGO<b>.</b>
        </div>
        <ul class="navItems">
            <li><a style="cursor: pointer;" onclick="window.location.href = '../index.html'">Home</a></li>
            <li><a style="cursor: pointer;" onclick="window.location.href = '../adoption/adoptionPage.html'">Adoption</a></li>
            <li><a style="cursor: pointer;" onclick="window.location.href = '../creating/animalCreatePage.html'">Put for Adoption</a></li>
            <li><a style="cursor: pointer;" onclick="window.location.href = '../services/services.html'">Services</a></li>
            <li><a style="cursor: pointer;" onclick="window.location.href = '../forum/forumPage.html'">Forum</a></li>
            <li class="login">
                <button
                        onclick="openPopup(); container.classList.remove('right-panel-active');"
                >
                    <span class="links_name">Login/Register</span>
                </button>
            </li>
        </ul>
    </nav>
</div>
<main id="main">
    <section id="pet-profile">
        <div class="pet-media">
            <div style="margin-top: 20px;">
                <div class="slideshow-container">
                    <!-- Full-width images with number and caption text -->
                    <div class="mySlides fade">
                        <img src="../img/cat.jpeg" style="width: 100%" />
                    </div>

                    <div class="mySlides fade">
                        <img src="https://cdn.hswstatic.com/gif/bombay-cat.jpg" style="width: 100%" />
                    </div>

                    <!-- Next and previous buttons -->
                    <a class="prev" onclick="plusSlides(-1)" aria-label="Previous slide">&#10094;</a>
                    <a class="next" onclick="plusSlides(1)" aria-label="Next slide"
                    >&#10095;</a>
                </div>
                <br />
            </div>
            <div class="pet-info-container"></div>
        </div>
        <br><br>

        <div class="chatForum">
            <div class="left-sideA" style="height: 470%; border: 2px solid black; margin-left: 4%; background-color: white;">
                <article style="margin: 0% 4% 0% 4%; height: 100%;">
                    <h2 id="pet-name" style="margin-top: 2%">Boots</h2>
                    <div class="pet-information" style="background: white;">
                        <h3>Information</h3>
                        <div class="pet-details-grid">
                            <div><strong>Gender:</strong> Male</div>
                            <div><strong>Age:</strong> 6 years</div>
                            <div><strong>Size:</strong> Medium</div>
                            <div><strong>Species:</strong> Cat</div>
                            <div><strong>Breed:</strong> Bombay</div>
                            <div><strong>Location:</strong> Lisboa</div>
                        </div>

                        <p class="pet-bio">
                            Meet Boots, the sophisticated 6-year-old Bombay feline with an air of mystery and elegance! With sleek, jet-black fur that glistens like onyx under the sunlight, Shadow exudes an aura of charm and grace.<br>
                            A seasoned explorer of the household, he prowls with the grace of a panther, navigating every corner with curiosity and finesse. Shadow's vibrant yellow eyes sparkle with intelligence, reflecting his keen awareness of his surroundings.
                        </p>

                        <div class="information"></div>
                        <h3>Traits</h3>
                        <div class="traits">
                            <label>Energy</label>
                            <progress value="3" max="4"></progress>
                            <label>Noise</label>
                            <progress value="1" max="4"></progress>
                            <label>Playfulness</label>
                            <progress value="2" max="4"></progress>
                            <label>Messiness</label>
                            <progress value="0" max="4"></progress>
                        </div>
                    </div>
                </article>
            </div>
            <div class="right-sideA">
                <section class="articles" style="padding: 15%;">
                    <article>
                        <div class="article-wrapper">
                            <figure>
                                <img src="https://goodlifeclothing.com/cdn/shop/products/MENSESSENTIALTWILLPANTTIMBER-Fullbody-jpg-1.jpg?v=1661364360" alt=""/>
                            </figure>
                            <div class="article-body">
                                <h2>Brian 28</h2>
                                <p>
                                    Animal enthusiast with a heart full of paw prints. I’m dedicated
                                    to finding loving homes for pets in need.
                                </p>
                            </div>
                            <div style="text-align: center;">
                                <button onclick="on();">Contact Me</button>
                            </div><br>
                        </div>
                    </article>
                </section>
            </div>
        </div>
    </section>
</main>
<div class="last" style="justify-content: center; align-items: center; text-align: center; margin-top: 200px">
    <br>
    <span style="font-weight: 700; font-size: 20px; color: rgb(221, 218, 208); cursor: pointer;" onclick="window.open('https://startupipm.web.app/', '_blank');"
    >©ARTEMIS2023</span>
</div>

<!-- Login Menu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
<div class="popup" id="popupLogin" style="width: 20%; height: 40%;">
    <div class="top-right-button" onclick="closePopupLogin()">X</div>
    <button style="margin-top: 15%;" onclick="on2();">My Account</button>
    <button style="margin-top: 10%;" onclick="on2();">Privacy Set </button>
    <button id="signOutButton" style="margin-top: 10%;">Log Out</button>
</div>
<!-- Where Login Menu it ends!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->


<!-- Where the POPUP is!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
<div class="popup" id="popup">
    <div class="container" id="container">
        <div class="top-right-button" onclick="closePopup()">X</div>
        <div class="form-container sign-up-container">
            <form action="#">
                <h1>Create Account</h1>
                <input type="text" placeholder="Name" id="nameR"/>
                <input type="email" placeholder="Email" id="emailR"/>
                <div style="display: flex; width: 100%;">
                    <input id="password" type="password" placeholder="Password" />
                    <i class="far fa-eye" id="togglePassword" style="margin-left: -35px; cursor: pointer; padding: 12px 15px; margin: 8px 0; background-color: #eee;"></i>
                </div>
                <div style="display: flex; width: 100%;">
                    <input id="passwordC" type="password" placeholder="Confirm Password" /><br>
                    <i class="far fa-eye" id="togglePasswordC" style="margin-left: -35px; cursor: pointer; padding: 12px 15px; margin: 8px 0; background-color: #eee;"></i>
                </div><br>
                <button id="signUpButton2">Sign Up</button>
            </form>
        </div>
        <div class="form-container sign-in-container">
            <form action="#">
                <h1>Sign in</h1>
                <input type="email" placeholder="Email" id="emailL"/>
                <div style="display: flex; width: 100%;">
                    <input id="passwordL" type="password" placeholder="Password" />
                    <i class="far fa-eye" id="togglePasswordL" style="margin-left: -35px; cursor: pointer; padding: 12px 15px; margin: 8px 0; background-color: #eee;"></i>
                </div><br>
                <button id="signInButton2">Sign In</button>
            </form>
        </div>
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1>Welcome Back!</h1>
                    <p>To keep connected with us please login with your personal info</p>
                    <button class="ghost" id="signIn">Sign In</button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1>Hello, Friend!</h1>
                    <p>Don't have an account?<br>Enter your personal details and start journey with us</p>
                    <button class="ghost" id="signUp">Register</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Where the POPUP is!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->

<div id="overlay" onclick="off()">
    <div id="textover">
        DEMO<br />This is only a prototype, you can't contact a user that does not exist<br />Sorry for the inconvenience
    </div>
</div>

<div id="overlay2" onclick="off2()" style="z-index: 10000;">
    <div id="textover2">DEMO<br>This is only a prototype, the button doesn´t belong to a scenario<br>Sorry for the inconvenience</div>
</div>

</body>
</html>

<script type="module">
    //Update the below URL with the appropriate version if necessary.
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
    import {
        getAuth,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword,
        onAuthStateChanged,
        signOut
        //Update the below URL with the appropriate version if necessary.
    } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";


    // INSERT YOUR FIREBASE CONFIG OBJECT HERE
    const firebaseConfig = {
        apiKey: "AIzaSyCnYbqrefRPaXQWR06l554KvNC7rjIEB9o",
        authDomain: "startupipm.firebaseapp.com",
        projectId: "startupipm",
        storageBucket: "startupipm.appspot.com",
        messagingSenderId: "995574355548",
        appId: "1:995574355548:web:aa0fa875180b128de4b899",
        measurementId: "G-NJYNRXD6B4"
    };


    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const signUpButton2 = document.querySelector("#signUpButton2");
    const signInButton2 = document.querySelector("#signInButton2");

    const userSignUp = async() => {
            const email = document.getElementById('emailR').value;
            const password = document.getElementById('password').value;
            const confirmation = document.getElementById('passwordC').value;

            if(password !== confirmation) {
                alert("Passwords do not match.");
            } else if(password.length < 6) {
                alert("Password should be at least 6 characters");
            } else {
                createUserWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        console.log(user);
                        alert("Your account has been created!");
                        closePopup();
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        console.log(errorCode + errorMessage)
                        alert(errorCode)
                    })
            }
        }

    const userSignIn = async() => {
        const email = document.getElementById('emailL').value;
        const password = document.getElementById('passwordL').value;
        signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                const user = userCredential.user;
                alert("You have signed in successfully!");
                closePopup();
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.log(errorCode + errorMessage)
            })
    }

    const checkAuthState = async() => {
        var linkElement = document.querySelector('.links_name');
        onAuthStateChanged(auth, user => {
            if(user) {
                linkElement.innerText = user.email.split("@")[0];
                return true;
            }
            return false;
        })
    }

    const userSignOut = async() => {
        var linkElement = document.querySelector('.links_name');
        await signOut(auth);
        linkElement.innerText = 'Login/Register';
        alert("You have logged out successfully!");
        closePopupLogin();
    }

    checkAuthState();

    signUpButton2.addEventListener('click', userSignUp);
    signInButton2.addEventListener('click', userSignIn);
    signOutButton.addEventListener('click', userSignOut);
</script>

<script src="script.js"></script>